# 笔记

## 代理及流程

创建一个帮助我发送邮件的代理

流程如下

- 构建提示词模板参数
- 调用提示词模板得到提示词
- 调用模型
- 判断是否调用工具
  - 没调用工具时，添加系统提示消息，用在下一个节点
  - 调用工具时，先先调用工具函数，再添加系统消息，告诉模型调用结果
- 调用模型
  - 上个节点没有调用工具时，生成一句失败的提示信息
  - 上个节点调用工具时，生成一个成功的提示信息